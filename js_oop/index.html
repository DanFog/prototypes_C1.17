<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Javascript OOP</title>
    <script>
        var coin_stack = function(amount) {
            this.value = amount;
            this.get_value = function() {
                return this.value;
            }
            this.add_coins = function(amount_added) {
                this.value += amount_added;
            };
            this.remove_coins = function(amount_removed) {
                if(this.value >= amount_removed) {
                    this.value -= amount_removed;
                    return amount_removed;
                } else {
                    amount_removed = this.value;
                    this.value = 0;
                    return amount_removed;
                }
            };
        };

        coin_stack.prototype.transfer_coins = function(from_obj, amount) {
            var amount_transferred = from_obj.remove_coins(amount);
            this.add_coins(amount_transferred);
            return amount_transferred;
        };

        var my_coin_stack = new coin_stack(50);
        console.log("My coin stack contains " + my_coin_stack.get_value() + " coins");
        my_coin_stack.add_coins(15);
        console.log("My coin stack contains " + my_coin_stack.get_value() + " coins");
        my_coin_stack.remove_coins(37);
        console.log("My coin stack contains " + my_coin_stack.get_value() + " coins");
        my_coin_stack.remove_coins(55);
        console.log("My coin stack contains " + my_coin_stack.get_value() + " coins");

        var erics_coins = new coin_stack(50);
        var dans_coins = new coin_stack(50);
        console.log("Eric's coin stack contains " + erics_coins.get_value() + " coins");
        console.log("Dan's coin stack contains " + dans_coins.get_value() + " coins");
        erics_coins.transfer_coins(dans_coins, 30);
        console.log("Eric's coin stack now contains " + erics_coins.get_value() + " coins");
        console.log("Dan's coin stack now contains " + dans_coins.get_value() + " coins");
        dans_coins.transfer_coins(erics_coins, 120)
        console.log("Eric's coin stack now contains " + erics_coins.get_value() + " coins");
        console.log("Dan's coin stack now contains " + dans_coins.get_value() + " coins");
    </script>
</head>
<body>
    <h1>Javascript OOP Prototype</h1>
</body>
</html>